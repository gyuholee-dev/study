<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 4교시 수업

    // 바이러스 코드 잡기 프로그램
    
    /* 
    var arr = new Array(); // 배열 선언
    arr[0] = '실행프로그램';
    arr[1] = '바이러스';
    arr[2] = '자료프로그램';
    arr[3] = '바이러스';
    arr[4] = '소스프로그램';
    arr[5] = '실행프로그램';

    // alert(arr.length); // 배열의 길이를 알려준다
    for (i=0; i<arr.length; i++) { // 배열의 길이만큼 반복한다
      // console.log(arr[i]); // 배열의 각 요소를 콘솔에 출력한다
      if (arr[i] == '바이러스') {
        arr[i] = '정상프로그램';
      }
    }
    // alert('바이러스 패치가 끝났습니다.');
    for (i=0; i<arr.length; i++) { // 배열의 길이만큼 반복한다
      document.write(arr[i] + '<br>');
    } 
    */


    // * 배열은 이렇게 선언하는게 더 쉬움
    var arr = [
      '실행프로그램',
      '바이러스',
      '자료프로그램',
      '바이러스',
      '소스프로그램',
      '실행프로그램'
    ];
    console.log(arr);

    // * 배열에 반복문을 돌릴때는 일반적으론 for ~ in 이나 for ~ of 문을 사용한다
    for (i in arr) { 
      console.log(arr[i]); // i 가 배열 원소의 인덱스(키) 값으로 들어옴
    }
    for (item of arr) {
      console.log(item); // item 이 배열의 원소로 들어옴
    }

    var virusCount = 0; // 바이러스 카운트
    // 배열에서 '바이러스' 를 찾아서 있으면 카운트를 증가
    for (i in arr) { // for ~ in 반복문 
      if (arr[i] == '바이러스') {
        console.log('바이러스 발견: ' + arr[i]); // 콘솔에 출력
        virusCount++; // 바이러스 카운트 증가
      }
    }

    if (virusCount > 0) { // 바이러스 카운트가 1개 이상이면
      if (confirm(`${virusCount} 개의 바이러스가 발견되었습니다. 치료하겠습니까?`)) {
        for (item of arr) { // for ~ of 반복문
          if (item == '바이러스') {
            item = '프로그램(치료됨)';
          }
          document.write(item + '<br>'); // 치료된 내역을 포함하여 출력
        }
        alert('치료를 완료하였습니다.');
      } else {
        alert('치료를 취소하였습니다.');
      }
    }



  </script>
  
</body>
</html>